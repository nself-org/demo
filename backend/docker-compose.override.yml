# Temporary override to fix JWT quoting issue (CLI bug reported)
# Remove this file once nself CLI fixes .env.runtime JSON quoting

services:
  hasura:
    environment:
      HASURA_GRAPHQL_JWT_SECRET: '{"type":"HS256","key":"0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"}'
      HASURA_GRAPHQL_DATABASE_URL: "postgresql://postgres:postgres@postgres:5432/nself"
      HASURA_GRAPHQL_CORS_DOMAIN: "http://localhost:*,http://*.localhost,https://*.localhost"

  auth:
    environment:
      HASURA_GRAPHQL_JWT_SECRET: '{"type":"HS256","key":"0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"}'
      DATABASE_URL: "postgresql://postgres:postgres@postgres:5432/nself"
      AUTH_DATABASE_URL: "postgresql://postgres:postgres@postgres:5432/nself"
      HASURA_GRAPHQL_DATABASE_URL: "postgresql://postgres:postgres@postgres:5432/nself"

  nginx:
    networks:
      - backend_network
