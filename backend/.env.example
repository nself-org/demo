##############################################################
# WARNING: CHANGE ALL SECRETS BEFORE DEPLOYING TO PRODUCTION
#
# The values below are EXAMPLE DEFAULTS for local development.
# They are intentionally simple and publicly known.
# Using these defaults in production is a SECURITY RISK.
#
# Secrets to change before going live:
#   POSTGRES_PASSWORD   — use a strong random password
#   HASURA_ADMIN_SECRET — minimum 32 chars, use openssl rand -hex 32
#   AUTH_JWT_SECRET     — must be 64+ chars, use openssl rand -hex 64
#   S3_ACCESS_KEY       — change from default "minioaccesskey"
#   S3_SECRET_KEY       — change from default "miniosecretkey"
##############################################################

###############################################################################
# nSelf Backend Environment Variables
#
# Copy this file to .env and customize the values.
#
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
###############################################################################

# =============================================================================
# PostgreSQL
# =============================================================================
POSTGRES_USER=postgres
# WARNING: Change before production — never use "postgres" as a real password
POSTGRES_PASSWORD=postgres
POSTGRES_DB=nself
POSTGRES_PORT=5432

# =============================================================================
# Hasura GraphQL Engine
# =============================================================================
HASURA_PORT=8080

# REQUIRED: Change before production — generate with: openssl rand -hex 32
HASURA_ADMIN_SECRET=nself-admin-secret

# =============================================================================
# Authentication (Hasura Auth)
# =============================================================================
AUTH_PORT=4000

# REQUIRED: Change before production — generate with: openssl rand -hex 64
AUTH_JWT_SECRET=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Where the auth service is reachable from the outside
# Local:      http://localhost:4000
# Staging:    https://auth.staging.yourdomain.com
# Production: https://auth.yourdomain.com
AUTH_SERVER_URL=http://localhost:4000

# Where the frontend app lives (for redirects after email verification, etc.)
# Local:      http://localhost:3000
# Staging:    https://staging.yourdomain.com
# Production: https://yourdomain.com
AUTH_CLIENT_URL=http://localhost:3000

# Token expiration (seconds)
AUTH_ACCESS_TOKEN_EXPIRES_IN=900
AUTH_REFRESH_TOKEN_EXPIRES_IN=43200

# Auth features
AUTH_EMAIL_PASSWORDLESS_ENABLED=false
AUTH_REQUIRE_EMAIL_VERIFICATION=false
AUTH_ANONYMOUS_USERS_ENABLED=false
AUTH_DISABLE_NEW_USERS=false
AUTH_LOCALE_DEFAULT=en
AUTH_GRAVATAR_ENABLED=true

# =============================================================================
# Storage (Hasura Storage + MinIO)
# =============================================================================
STORAGE_PORT=8484
STORAGE_PUBLIC_URL=http://localhost:8484

# MinIO (S3-compatible object storage)
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
# WARNING: Change before production
S3_ACCESS_KEY=minioaccesskey
# WARNING: Change before production
S3_SECRET_KEY=miniosecretkey
S3_ENDPOINT=http://minio:9000
S3_BUCKET=nhost

# =============================================================================
# Email (SMTP)
# =============================================================================
# Local development uses Mailhog (no real emails sent)
# For staging/production, configure a real SMTP provider:
#   - Resend (resend.com)
#   - Postmark (postmarkapp.com)
#   - SendGrid (sendgrid.com)
#   - AWS SES
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_SENDER=no-reply@localhost
SMTP_SECURE=false

# =============================================================================
# Mailhog (Development Only)
# =============================================================================
MAILHOG_SMTP_PORT=1025
MAILHOG_UI_PORT=8025

# =============================================================================
# OAuth Providers (Optional)
# =============================================================================
# Uncomment and configure the providers you want to use.
# You'll also need to enable them in the auth service configuration.

# AUTH_PROVIDER_GOOGLE_ENABLED=false
# AUTH_PROVIDER_GOOGLE_CLIENT_ID=
# AUTH_PROVIDER_GOOGLE_CLIENT_SECRET=

# AUTH_PROVIDER_GITHUB_ENABLED=false
# AUTH_PROVIDER_GITHUB_CLIENT_ID=
# AUTH_PROVIDER_GITHUB_CLIENT_SECRET=

# AUTH_PROVIDER_APPLE_ENABLED=false
# AUTH_PROVIDER_APPLE_CLIENT_ID=
# AUTH_PROVIDER_APPLE_KEY_ID=
# AUTH_PROVIDER_APPLE_PRIVATE_KEY=
# AUTH_PROVIDER_APPLE_TEAM_ID=
